{
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node ./scripts/session-start.js"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "node ./scripts/show-routing.js"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "node ./scripts/show-progress.js"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"const fs=require('fs');try{const s=JSON.parse(fs.readFileSync('/tmp/mannung-agent-session.json','utf-8'));const e=Math.round((Date.now()-s.startTime)/1000);const m=Math.floor(e/60);const sec=e%60;console.log('');console.log('[mannung-agent] Session summary');console.log('  Tasks: '+s.taskCount);console.log('  Duration: '+(m>0?m+'m ':'')+sec+'s');console.log('  Tools: '+JSON.stringify(s.tools));console.log('')}catch{console.log('[mannung-agent] Session ended')}\""
          }
        ]
      }
    ]
  }
}
